---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by richyczhou.
--- DateTime: 2025/3/13 17:16
---
local LuaClass = require("Core/LuaClass")
local UIViewModel = require("UI/UIViewModel")
local LoginNewDefine = require("Game/LoginNew/LoginNewDefine")

local AccountCancellationCheckType = LoginNewDefine.AccountCancellationCheckType
local LSTR = _G.LSTR

---@class AccountRoleItemVM : UIViewModel
local AccountRoleItemVM = LuaClass(UIViewModel)

---Ctor
function AccountRoleItemVM:Ctor()
    self.ItemViewType = nil

    self.RoleIndexText = nil
    self.RoleID = nil
    self.RoleName = nil

    ---@type AccountCancellationCheckType
    self.Type = nil
    self.TitleText = nil
    self.ContentText = nil
    self.CheckResultText = nil
    self.CheckResultColor = nil
end

function AccountRoleItemVM:UpdateVM(Value)
    self.ItemViewType = Value.ItemViewType

    if self.ItemViewType == 0 then
        -- 470159 角色
        self.RoleIndexText = string.format("%s%d", _G.LSTR(470159), Value.Index)
        self.RoleID = Value.RoleID
        self.RoleName = Value.RoleName
    else
        self.Type = Value.Type
        if Value.CheckResult then
            --470161 未处理
            self.CheckResultText = LSTR(470161)
            self.CheckResultColor = "#dc5868"
        else
            --470160 已处理
            self.CheckResultText = LSTR(470160)
            self.CheckResultColor = "#89bd88"
        end

        if self.Type == AccountCancellationCheckType.GroupChat then
            --470135 通讯贝
            self.TitleText = LSTR(470135)
            --470153 需要退出所有加入或创建的通讯贝，自己创建的通讯贝需解散或转让后退出。
            self.ContentText = LSTR(470153)
        elseif self.Type == AccountCancellationCheckType.Friend then
            --470137 好友
            self.TitleText = LSTR(470137)
            --470155 需要删除所有游戏内好友。
            self.ContentText = LSTR(470155)
        elseif self.Type == AccountCancellationCheckType.NewChannel then
            --470138 新人频道
            self.TitleText = LSTR(470138)
            --470156 需要退出新人频道。
            self.ContentText = LSTR(470156)
        elseif self.Type == AccountCancellationCheckType.Team then
            --470136 部队
            self.TitleText = LSTR(470136)
            --470154 需要退出部队。
            self.ContentText = LSTR(470154)
        end
    end
end

function AccountRoleItemVM:IsEqualVM(Value)
    return nil ~= Value and Value.Index == self.Index and Value.Type == self.Type
end

function AccountRoleItemVM:AdapterOnGetWidgetIndex()
    return self.ItemViewType
end

return AccountRoleItemVM