---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2025/2/12 16:22
---
local LuaClass = require("Core/LuaClass")
local UIViewModel = require("UI/UIViewModel")
local TouringBandSupportBuffItemVM = require("Game/TouringBand/VM/TouringBandSupportBuffItemVM")

---@class TouringBandSupportWinVM : UIViewModel
local TouringBandSupportWinVM = LuaClass(UIViewModel)

---Ctor
function TouringBandSupportWinVM:Ctor()
    self.ExpText = ""
    self.BandBuffVMList = self:ResetBindableList(self.BandBuffVMList, TouringBandSupportBuffItemVM)
end

function TouringBandSupportWinVM:UpdateBuff(Data)
    local Exp = Data.Exp
    local StateIDs = Data.StateIDs

    if Exp == nil or StateIDs == nil then
        return
    end

    if Exp > 0 then
        self.ExpText = string.format(_G.LSTR(450025), Exp)
    else
        self.ExpText = _G.LSTR(450033)
    end
    
    local TempData = {}
    for __, Value in pairs(StateIDs) do
        local Item = {}
        Item.ID = Value
        table.insert(TempData, Item)
    end
    
    self.BandBuffVMList:Clear()
    self.BandBuffVMList:UpdateByValues(TempData)
end

return TouringBandSupportWinVM