---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2024/11/6 10:26
---

local LuaClass = require("Core/LuaClass")
local MapMarker = require("Game/Map/Marker/MapMarker")
local MapDefine = require("Game/Map/MapDefine")
local MapUtil = require("Game/Map/MapUtil")
local ChocoboGimmickCfg = require("TableCfg/ChocoboGimmickCfg")

local MapMarkerType = MapDefine.MapMarkerType
local MapMarkerBPType = MapDefine.MapMarkerBPType
local IconPath = "Texture2D'/Game/Assets/Icon/900000/UI_Icon_900194.UI_Icon_900194'"

---@class MapMarkerChocoboRaceItem
local MapMarkerChocoboRaceItem = LuaClass(MapMarker)

---Ctor
function MapMarkerChocoboRaceItem:Ctor()
end

function MapMarkerChocoboRaceItem:GetType()
    return MapMarkerType.ChocoboRaceItem
end

function MapMarkerChocoboRaceItem:GetBPType()
    return MapMarkerBPType.CommIconLeft
end

function MapMarkerChocoboRaceItem:InitMarker(Params)
    self.PopEventRange = Params.PopEventRange
    self.IconPath = IconPath

    local GimmickCfg = nil
    for __, Value in pairs(ChocoboGimmickCfg:FindAllCfg()) do
        if Value.PopEventRange == self.PopEventRange then
            GimmickCfg = Value
            break
        end
    end

    if GimmickCfg and GimmickCfg.Pos then
        local Pos = GimmickCfg.Pos
        self.Location = _G.UE.FVector(Pos.X, Pos.Y, Pos.Z)
    end
end

function MapMarkerChocoboRaceItem:GetAreaMapPos()
    if self.Location then
        return MapUtil.GetUIPosByLocation(self.Location, self.UIMapID)
    end

    return 0, 0
end

function MapMarkerChocoboRaceItem:GetWorldPos()
    if self.Location then
        return self.Location.X, self.Location.Y, self.Location.Z, self.Location
    end

    return 0, 0, 0, nil
end


return MapMarkerChocoboRaceItem