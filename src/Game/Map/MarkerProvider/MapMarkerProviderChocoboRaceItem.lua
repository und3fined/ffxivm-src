---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2024/11/6 10:49
---

local LuaClass = require("Core/LuaClass")
local MapMarkerProvider = require("Game/Map/MarkerProvider/MapMarkerProvider")
local MapMarkerChocoboRaceItem = require("Game/Map/Marker/MapMarkerChocoboRaceItem")
local MapDefine = require("Game/Map/MapDefine")

local MapMarkerType = MapDefine.MapMarkerType


---@class MapMarkerProviderChocoboRaceItem : MapMarkerProvider
local MapMarkerProviderChocoboRaceItem = LuaClass(MapMarkerProvider)

function MapMarkerProviderChocoboRaceItem:Ctor()

end

function MapMarkerProviderChocoboRaceItem:GetMarkerType()
    return MapMarkerType.ChocoboRaceItem
end

function MapMarkerProviderChocoboRaceItem:OnGetMarkers(UIMapID)
    return self:CreateChocoboRaceItemMarkers()
end

function MapMarkerProviderChocoboRaceItem:CreateChocoboRaceItemMarkers()
    local MapMarkers = {}

    if not _G.ChocoboRaceMgr:IsChocoboRacePWorld() then
        return MapMarkers
    end

    for Key, PopEventRange in _G.ChocoboRaceMgr:IterChocoboRaceItem() do
        local Params = { ID = Key, PopEventRange = PopEventRange }
        local Marker = self:OnCreateMarker(Params)
        table.insert(MapMarkers, Marker)
    end

    return MapMarkers
end

function MapMarkerProviderChocoboRaceItem:OnCreateMarker(Params)
    local Marker = self:CreateMarker(MapMarkerChocoboRaceItem, Params.ID, Params)
    if nil == Marker then
        return
    end

    return Marker
end

function MapMarkerProviderChocoboRaceItem:UpdateAllChocoboRaceItem()
    self:ClearMarkers()
    self:UpdateMarkers()
end

function MapMarkerProviderChocoboRaceItem:ClearChocoboRaceItemMarkers()
    self:ClearMarkers()
end

return MapMarkerProviderChocoboRaceItem